# ERD - Entity-Relationship Model

1976년 피터첸에 의해 만들어진 표기법



### ERD 작성 순서

------

**가장 중요한 엔터티를 왼쪽 상단으로 배치하고, 이를 중심으로 오른쪽 하단으로 전개하는 것을 권장**

1. 엔터티를 그린다. (도출)

2. 엔터티를 적절하게 배치한다. (배치)

3. 엔터티 간 관계를 설정한다. (관계 설정)

4. 관계명을 기술한다. (관계명 기술)

5. 관계의 필수여부를 기술한다. (필수여부 기술)

   

### Entity - 개체

------

- 저장되고, 관리되어야 하는 데이터의 집합

- **업무** - 업무에서 관리되어야 하는 집합이다.

- **식별자** - 유일한 식별자를 가지고 있고, 그 식별자로 구분되어야 한다.

- **인스턴스 집합** - 2개 이상의 인스턴스가 있어야 한다.

  (인스턴스 : 테이블의 각 행을 의미)

- **속성** - 반드시 속성을 가지고 있어야 한다.

  (속성 : 인스턴스에서 관리하고자 하는 의미상 최소의 데이터 단위)

- **관계** - 다른 엔티티와 최소 한 개 이상의 관계가 있어야 한다.

- **엔터티:인스턴스:속성:속성값의 관계**

  - 한 개의 **엔터티**는 두 개 이상의 **인스턴스**의 집합이어야 한다. **(1:n)**
  - 한 개의 **엔터티**는 두 개 이상의 **속성**을 갖는다. **(1:n)**
  - 한 개의 **속성**은 한 개의 **속성값**을 갖는다. **(1:1)**

- **엔터티 명명 규칙**
  - 현업 용어 사용
  - 약어 지양
  - 단순 명사 사용
  - 유일한 확보 (엔터티 안에서)
  - 엔터티 생성의미대로 이름 부여



### Attribute - 속성

------

- #### 속성의 특성에 따른 분류

  - **기본속성**

    업무로부터 추출된 일반적인 속성

  - **설계속성**

    원래 존재하지는 않지만 필요에 따라 설계자가 추가한 속성

    대부분의 코드 속성이나 일련번호처럼 식별자 역할을 하도록 추가된 속성.

  - **파생속성**

    데이터를 조회할 때 빠른 성능을 할 수 있도록 하기 위해 원래 속성의 값을 계산하여 저장할 수 있도록 만든 속성



- #### 도메인 : 속성이 가질 수 있는 값의 범위

- #### 속성 명명 규칙

  - 현업 용어 사용
  - 서술식 속성명 지양
  - 약어 지양
  - 유일성 확보 지향



### Relationship - 관계

------

ERD에서는 존재적 관계와 행위에 의한 관계를 구분하지 않지만

클래스다이어그램(UML)에서는 이것을 구분하여 연관관계와 의존관계로 표현한다.



- #### 관계의 표기법

  - **관계명**(Membership) : 관계의 이름
  - **관계차수**(Cardinality) : 1:1, 1:M, M:N
  - **관계선택사양**(Optionality) : 필수관계, 선택관계

  

- #### 관계 도출 체크사항

  - 두 개의 엔터티 사이에 관심있는 **연관규칙이 존재**하는가?
  - 두 개의 엔터티 사이에 **정보의 조합이 발생**되는가?
  - 업무기술서, 장표에 **관계연결에 대한 규칙이 서술**되어 있는가?
  - 업무기술서, 장표에 **관계연결**을 가능하게 하는 **동사**가 있는가?



### Identifier - 식별자

------

#### 식별자의 분류체계

- **대표성 유무**

  - 주식별자 (유)
  - 보조식별자 (무)

- **스스로생성 여부**

  - 내부식별자 (가능)
  - 외부식별자 (불가)

- **속성의 수 **

  - 단일식별자 (1개)
  - 복합식별자 (2이상)

- **대체여부**

  - 본질식별자 (원래)

  - 인조식별자 (새로)

    

#### 주식별자의 특징

- **유일성**  : 주식별자에 의해 엔터티 내에 모든 인스턴스들을 **유일하게 구분**함
- **최소성** : 주식별자를 구성하는 **속성의 수**는 유일성을 만족하는 **최소의 수**가 되어야 함
- **불변성** : 주식별자가 한 번 특정 엔터티에 지정되면 그 식별자의 **값은 변하지 않아야 함**
- **존재성** : 주식별자가 지정되면 **반드시 데이터 값이 존재** (NULL 안됨)



#### 식별자 vs 비식별자 관계 비교

|          항목           |                          식별자관계                          |                         비식별자관계                         |
| :---------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|          목적           |                      강한 연결관계 표현                      |                      약한 연결관계 표현                      |
| 자식 <br/>주식별자 영향 |                  자식 주식별자 구성에 포함                   |                    자식 일반 속성에 포함                     |
|         표기법          |                             실선                             |                             점선                             |
|    연결<br/>고려사항    | - 반드시 부모엔터티 종속<br/>- 자식 주식별자구성에 부모 주식 포함 필요<br/>- 상속받은 주식별자속성을 타엔터티에 이전 필요 | - 약한 종속관계<br/>- 자식 일반 속성에 포함<br/>- 자식 주식별자구성에 부모 주식 부분 필요<br/>- 상속받은 주식별자속성을 타 엔터티에 차단 필요<br/>- 부모쪽의 관계참여가 선택관계 |

